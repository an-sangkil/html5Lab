<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>HTML5</title>
<script>
	window.onload = function(){
		loadStorage();
		// form의 submit시 아이디를 저장한다.
		
		document.querySelector("form").onsubmit = saveStorage;
	};
	
	// 아이디를 로컬 스토리지에 저장한다.
	function saveStorage(){
		var saveId = document.getElementById("saveId").checked;
		var userId = document.getElementById("userId").value;
		
		// 아이디 저장에 체크가 되어있으면 아이디를 저장하고
		// 체크가 되어있지 않으면 아이디를 삭제한다.
		
		
		if (saveId) {
			window.localStorage.setItem("userId", userId);
		} else {
			window.localStorage.removeItem("userId");
		}
	}
	
	// 로컬 스토리지에서 아이디를 꺼내서 채운다.
	function loadStorage(){
		var userId = window.localStorage.getItem("userId");
		
		if (userId != null) {
			document.querySelector('#userId').value   =  userId;
			document.querySelector('#saveId').checked =  true;
		}
		
	}
</script>
</head>
<body>
	<h1>로그인(Web Storage)</h1>
	<form>
		<fieldset>
			아이디: <input type="text" name="id" id="userId" autocomplete="off">
			<input type="checkbox" id="saveId">아이디 저장<br>
			비밀번호: <input type="password"><br>
			<input type="submit" value="로그인" formmethod="post" formaction="login.jsp">
		</fieldset>
	</form>
</body>
</html>

























