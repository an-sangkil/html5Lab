<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>HTML5</title>
<script>
	window.onload = function(){
		document.getElementById("check").onclick = function(){
			var id = document.getElementById("userId");
			id.setAttribute("readonly", "readonly");
			document.getElementById("result").innerHTML = "사용 가능합니다.";
		};
		document.getElementById("useId").onclick = function(){
			var id = document.querySelector("#userId").value;
			// TODO 이전 방식
			
			
			// 부모창의 id 속성에 접근하여 처리  
			// 부모창의 id 속성값을 변경하게 되면 유지보수시에 에로사항이 있음.
			//window.opener.myForm.userId.value =  id;			

			// TODO 부모창에 cross-document message를 보낸다.
			window.opener.postMessage(id, "*");
			
			window.close();
		};
	};
</script>
</head>
<body>
	<h1>11아이디 중복 확인</h1>
	아이디: <input type="text" id="userId" autofocus><button id="check">중복확인</button><br>
	<span id="result"></span><br>
	<button id="useId">사용하기</button>
</body>
</html>





















